## 오늘 한 것


![image](https://user-images.githubusercontent.com/72128840/216269439-504938cb-df73-484c-9464-20d20de1658e.png)

카카오 소셜 로그인 구현하기

### 느낀 점

파이어베이스 구글 인증을 써봐서 누가 만들어준 로그인 서비스 쓰는거 쉬운거아닌가? 생각했지만
절대 예상대로 되는 법은 없다 엄청 오래걸렸다   
그리고 서버 필요해서 또 당황했다... express로 극복 😏 (많이 필요하지는 않음)     
인증 코드를 넘기고넘기고넘기고 하는 과정이라서 처음에는 헷갈리고 진이 빠지는데 하나씩 해결해가면 됨


### 문제 해결 과정

useEffect 다음에 로그인 요청을 보내는데 계속 invalid grant 오류가 떴다     
알아보니 인가 코드를 여러번 쓰면 그렇다고 함. 나는 여러번 쓰지 않았는데?? 노드에서 콘솔 찍어보니 리퀘스트가 두번이 가고 있더라   
짐작가는건 <React.StrictMode> 였는데 지워보니 콘솔이 한번만 찍히고 제대로 동작했다.


![image](https://user-images.githubusercontent.com/72128840/216274131-858156c3-9ba2-431e-b217-9fdf06f13d09.png)

그리고 헤더에 유저 정보를 띄우는게 일반적이니까 그냥 유저객체같은거 받아와서 어찌저찌 하면 되겠지 ~ 했는데    
유저 정보를 사용하려면 인가 단계에서 개인정보 사용 동의를 받아야 한다.   
어렵지는 않고 카카오 디벨로퍼스에서 내 애플리케이션 > 현재 제작중인 앱 > 카카오로그인 > 동의항목   
에서 필요한거 풀어주면 되는데 처음에 코드로 설정해야 되는줄알고 공식문서만 줄줄 찾아다님

![image](https://user-images.githubusercontent.com/72128840/216274982-395454df-7ca5-403c-a3ef-bf3077bcf193.png)

만족합니다...   
로그인 구현하고 sdk에 토큰 넘겨주기만 하면 유저정보 받기 로그아웃 연결끊기 등등은 쉽게 할 수 있다


### 신경썼던 것
 
키들은 config 파일로 빼주는것   
그리고 커스텀훅 빼서 UI랑 로직 구분해주는것     
그런데 커스텀 훅이 많이 비대해지면 그걸 또 어떻게 정리할지도 생각해 봐야 할것같다    
